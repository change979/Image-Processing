# 图像处理工具

一款多功能图像处理工具，支持水印去除、图片格式转换和图像增强功能。

## 功能特点

- 用户友好的图形界面
- 水印去除功能：
  - 手动标记水印区域
  - 多种去水印算法（TELEA和NS算法）
  - 实时预览修复效果
  - 支持保存结果
  - 批量水印处理
  - 可调整画笔大小和修复半径
- 图片格式转换：
  - 支持PNG、JPEG、BMP、TIFF、WebP等多种格式互转
  - 批量转换功能
  - 自定义输出目录
  - 自定义JPEG质量
  - 保留EXIF数据选项
- 图像增强：
  - 亮度和对比度调整
  - 锐化和模糊效果
  - 色彩平衡调整
  - 降噪处理
  - 批量处理功能

## 系统要求

- Windows 7/8/10/11 (64位系统)
- 至少4GB内存
- 500MB可用硬盘空间
- 显示分辨率：1280x720或更高

## 项目结构

```
├── README.md                       # 项目说明文档
├── requirements.txt                # 项目依赖库
├── main.py                         # 主程序入口
├── image_tools/                    # 主模块目录
│   ├── __init__.py                 # 模块初始化文件
│   ├── watermark/                  # 水印处理模块
│   │   ├── __init__.py             # 模块初始化文件
│   │   ├── watermark_remover.py    # 水印去除核心类（单图处理）
│   │   ├── watermark_tab.py        # 水印去除界面组件
│   │   ├── batch_processor.py      # 批量水印处理类
│   ├── convert/                    # 格式转换模块
│   │   ├── __init__.py             # 模块初始化文件
│   │   ├── converter_tab.py        # 格式转换界面组件
│   ├── enhance/                    # 图像增强模块
│   │   ├── __init__.py             # 模块初始化文件
│   │   ├── image_enhancer.py       # 图像增强核心类
│   │   ├── enhancer_tab.py         # 图像增强界面组件
│   ├── utils/                      # 工具类
│   │   ├── __init__.py             # 模块初始化文件
│   │   ├── image_utils.py          # 图像处理工具函数
```

## 技术实现

- 基于Python 3.x开发
- 使用OpenCV处理图像和实现水印去除算法
- Tkinter构建GUI界面
- PIL(Pillow)用于图像处理和格式转换
- NumPy和SciPy用于科学计算和图像处理算法
- 支持多线程处理，提高批量任务效率
- 多线程处理提高响应速度

## 支持的算法

### 水印去除算法
- TELEA算法(快速修复)：基于快速行进算法的图像修复方法，适合处理较小的水印区域
- NS算法(自然场修复)：基于Navier-Stokes方程的图像修复，对于大面积水印效果更好

### 图像增强算法
- 直方图均衡化
- 自适应对比度增强
- 高斯模糊与锐化
- 双边滤波降噪

## 支持的图像格式

- PNG (.png)
- JPEG (.jpg, .jpeg)
- BMP (.bmp)
- TIFF (.tiff, .tif)
- WebP (.webp)

## 安装说明

### 方法一：使用预编译版本

1. 从发布页面下载最新版本的预编译包
2. 解压到任意目录
3. 双击运行"图像处理工具.exe"

### 方法二：从源码运行

```bash
# 克隆代码仓库
git clone https://github.com/yourusername/image-processing-tool.git
cd image-processing-tool

# 创建虚拟环境（可选但推荐）
python -m venv venv
# Windows
venv\Scripts\activate
# Linux/macOS
source venv/bin/activate

# 安装依赖
pip install -r requirements.txt

# 运行程序
python main.py
```

## 使用方法

### 水印去除

1. 点击"水印去除"标签页
2. 上传需要处理的图片
3. 使用鼠标在图像上标记水印区域（可调整画笔大小）
4. 选择适合的修复算法（TELEA或NS）
5. 调整修复半径参数
6. 点击"去除水印"按钮进行处理
7. 在预览区查看效果
8. 满意后点击"保存结果"保存处理后的图像
9. 可以使用"继续编辑"功能进一步优化结果

### 图片格式转换

1. 点击"格式转换"标签页
2. 选择"单张转换"或"批量转换"模式
3. 上传需要转换的图片文件
4. 选择目标格式（PNG、JPEG、BMP、TIFF、WebP等）
5. 如选择JPEG格式，可调整质量参数
6. 选择是否保留EXIF数据
7. 指定输出目录
8. 点击"转换并保存"或"开始批量转换"按钮

### 图像增强

1. 点击"图像增强"标签页
2. 上传需要处理的图片
3. 使用滑块调整亮度、对比度、锐化等参数
4. 实时预览效果
5. 满意后点击"保存结果"保存处理后的图像
6. 也可以使用"批量增强"功能处理多张图片

## 常见问题解答

- **Q: 为什么水印去除后的结果不够理想？**  
  A: 水印去除效果取决于水印的复杂程度和背景图像。尝试调整修复半径或切换算法，也可以使用"继续编辑"功能进行多次处理。

- **Q: 批量处理大量图片时速度较慢？**  
  A: 批量处理时会受到CPU和内存的限制。可以减少同时处理的线程数，或者分批次处理。

## 开发计划

- [ ] 优化水印去除算法
- [ ] 添加AI辅助水印检测功能
- [ ] 支持更多图像格式
- [ ] 增加批处理进度可视化
- [ ] 添加自动水印检测功能

## 贡献者

- 开发者1 - 核心功能开发
- 开发者2 - UI设计与实现
- 开发者3 - 高级算法优化

## 许可证

本项目采用MIT许可证。详见LICENSE文件。

## 最近更新

- 优化水印去除算法性能
- 添加图像增强功能
- 改进用户界面交互体验 